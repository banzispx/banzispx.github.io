<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js的数据类型 值是如何存储的 | SPX Interview</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.3f949b7f.css" as="style"><link rel="preload" href="/assets/js/app.a611df23.js" as="script"><link rel="preload" href="/assets/js/2.1379642d.js" as="script"><link rel="preload" href="/assets/js/18.8414afbf.js" as="script"><link rel="prefetch" href="/assets/js/10.beeb90b4.js"><link rel="prefetch" href="/assets/js/11.e3a6abb8.js"><link rel="prefetch" href="/assets/js/12.0eec26a8.js"><link rel="prefetch" href="/assets/js/13.03b3daac.js"><link rel="prefetch" href="/assets/js/14.d2676b0f.js"><link rel="prefetch" href="/assets/js/15.95f91391.js"><link rel="prefetch" href="/assets/js/16.6c8ef939.js"><link rel="prefetch" href="/assets/js/17.cd84e178.js"><link rel="prefetch" href="/assets/js/19.0f8d6009.js"><link rel="prefetch" href="/assets/js/20.6242501c.js"><link rel="prefetch" href="/assets/js/21.1c10ab44.js"><link rel="prefetch" href="/assets/js/22.86227233.js"><link rel="prefetch" href="/assets/js/23.d45bb3c2.js"><link rel="prefetch" href="/assets/js/24.d15fc351.js"><link rel="prefetch" href="/assets/js/25.444dea07.js"><link rel="prefetch" href="/assets/js/26.90a762cd.js"><link rel="prefetch" href="/assets/js/27.2bec70a5.js"><link rel="prefetch" href="/assets/js/28.5f7e4e30.js"><link rel="prefetch" href="/assets/js/29.31679bc1.js"><link rel="prefetch" href="/assets/js/3.1de297b1.js"><link rel="prefetch" href="/assets/js/30.1a59e853.js"><link rel="prefetch" href="/assets/js/31.73e3f38b.js"><link rel="prefetch" href="/assets/js/4.ae2b9088.js"><link rel="prefetch" href="/assets/js/5.bcea38fb.js"><link rel="prefetch" href="/assets/js/6.82007b79.js"><link rel="prefetch" href="/assets/js/7.49cb7827.js"><link rel="prefetch" href="/assets/js/8.5c3efea6.js"><link rel="prefetch" href="/assets/js/9.0c1ca9b3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3f949b7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">SPX Interview</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/http/" class="nav-link">
  Interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Frame</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/banzispx/vuePress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/http/" class="nav-link">
  Interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Frame</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/banzispx/vuePress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTTP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/http/" class="sidebar-link">基础</a></li><li><a href="/http/url.html" class="sidebar-link">从url到页面渲染</a></li><li><a href="/http/https.html" class="sidebar-link">https</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML/CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/html-css/html.html" class="sidebar-link">html</a></li><li><a href="/html-css/maincss.html" class="sidebar-link">css</a></li><li><a href="/html-css/cssCode.html" class="sidebar-link">css代码</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/base.html" aria-current="page" class="active sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/base.html#js的数据类型-值是如何存储的" class="sidebar-link">js的数据类型 值是如何存储的</a></li><li class="sidebar-sub-header"><a href="/js/base.html#js的数据类型的转换" class="sidebar-link">js的数据类型的转换</a></li><li class="sidebar-sub-header"><a href="/js/base.html#js中数据类型的判断" class="sidebar-link">JS中数据类型的判断</a></li><li class="sidebar-sub-header"><a href="/js/base.html#null-和-undefined-的区别？" class="sidebar-link">null 和 undefined 的区别？</a></li><li class="sidebar-sub-header"><a href="/js/base.html#和-的valueof和tostring的结果？" class="sidebar-link">{}和[]的valueOf和toString的结果？</a></li><li class="sidebar-sub-header"><a href="/js/base.html#js数组和字符串常用方法" class="sidebar-link">JS数组和字符串常用方法</a></li><li class="sidebar-sub-header"><a href="/js/base.html#dom-操作-怎样添加、移除、移动、复制、创建和查找节点？" class="sidebar-link">DOM 操作——怎样添加、移除、移动、复制、创建和查找节点？</a></li></ul></li><li><a href="/js/rumen.html" class="sidebar-link">入门</a></li><li><a href="/js/middle.html" class="sidebar-link">源码</a></li><li><a href="/js/axios.html" class="sidebar-link">axios</a></li><li><a href="/js/deepclone.html" class="sidebar-link">deepclone</a></li><li><a href="/js/promise.html" class="sidebar-link">promise</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="js的数据类型-值是如何存储的"><a href="#js的数据类型-值是如何存储的" class="header-anchor">#</a> js的数据类型 值是如何存储的</h2> <p>JavaScript一共有8种数据类型，其中有7种基本数据类型：</p> <div class="language- extra-class"><pre><code>Undefined、Null、Boolean、Number、String、Symbol（es6新增，表示独一无二的值）和BigInt（es10新增)
</code></pre></div><p>1种引用数据类型——Object（Object本质上是由一组无序的名值对组成的）。里面包含 function、Array、Date等。JavaScript不支持任何创建自定义类型的机制，而所有值最终都将是上述 8 种数据类型之一。
原始数据类型：直接存储在栈（stack）中，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储。
引用数据类型：同时存储在栈（stack）和堆（heap）中，占据空间大、大小不固定。引用数据类型在栈中存储了指针，该指针指向堆中该实体的起始地址。当解释器寻找引用值时，会首先检索其在栈中的地址，取得地址后从堆中获得实体。
</p> <h2 id="js的数据类型的转换"><a href="#js的数据类型的转换" class="header-anchor">#</a> js的数据类型的转换</h2> <p>在 JS 中类型转换只有三种情况，分别是：
转换为布尔值（调用Boolean()方法）
转换为数字（调用Number()、parseInt()和parseFloat()方法）
转换为字符串（调用.toString() 或者String()方法）</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>null和underfined没有.toString方法</p></div> <img src="/js/zhuanhuan.jpg" alt="mixureSecure"> <h2 id="js中数据类型的判断"><a href="#js中数据类型的判断" class="header-anchor">#</a> JS中数据类型的判断</h2> <p>typeof，instanceof，constructor，Object.prototype.toString.call()</p> <p><strong>（1）typeof</strong></p> <p>typeof 对于原始类型来说，除了 null 都可以显示正确的类型</p> <div class="language- extra-class"><pre class="language-text"><code>console.log(typeof 2);               // number
console.log(typeof true);            // boolean
console.log(typeof 'str');           // string
console.log(typeof []);              // object     []数组的数据类型在 typeof 中被解释为 object
console.log(typeof function(){});    // function
console.log(typeof {});              // object
console.log(typeof undefined);       // undefined
console.log(typeof null);            // object     null 的数据类型被 typeof 解释为 object
复制代码
</code></pre></div><p>typeof 对于对象来说，除了函数都会显示 object，所以说 typeof 并不能准确判断变量到底是什么类型,所以想判断一个对象的正确类型，这时候可以考虑使用 instanceof</p> <p><strong>（2）instanceof 判断对象</strong></p> <p>instanceof 可以正确的判断对象的类型，因为内部机制是通过判断对象的原型链中是不是能找到类型的 prototype。</p> <div class="language- extra-class"><pre class="language-text"><code>console.log(2 instanceof Number);                    // false
console.log(true instanceof Boolean);                // false 
console.log('str' instanceof String);                // false  
console.log([] instanceof Array);                    // true
console.log(function(){} instanceof Function);       // true
console.log({} instanceof Object);                   // true    
// console.log(undefined instanceof Undefined); ReferenceError: Undefined is not defined
// console.log(null instanceof Null); ReferenceError: Null is not defined
复制代码
</code></pre></div><p>可以看出直接的字面量值判断数据类型，instanceof可以精准判断引用数据类型（Array，Function，Object），而基本数据类型不能被instanceof精准判断。
我们来看一下 instanceof 在MDN中的解释：instanceof 运算符用来测试一个对象在其原型链中是否存在一个构造函数的 prototype 属性。其意思就是判断对象是否是某一数据类型（如Array）的实例，请重点关注一下是判断一个对象是否是数据类型的实例。在这里字面量值，2， true ，'str'不是实例，所以判断值为false。</p> <p><strong>（3）constructor</strong></p> <div class="language- extra-class"><pre class="language-text"><code>console.log((2).constructor === Number); // true
console.log((true).constructor === Boolean); // true
console.log(('str').constructor === String); // true
console.log(([]).constructor === Array); // true
console.log((function() {}).constructor === Function); // true
console.log(({}).constructor === Object); // true
</code></pre></div><blockquote><p>这里有一个坑，如果我创建一个对象，更改它的原型，constructor就会变得不可靠了</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>function Fn(){};
Fn.prototype=new Array();
var f=new Fn();
console.log(f.constructor===Fn);    // false
console.log(f.constructor===Array); // true 
</code></pre></div><p><strong>（4）Object.prototype.toString.call()</strong>
使用 Object 对象的原型方法 toString ，使用 call 进行狸猫换太子，借用Object的 toString  方法</p> <div class="language- extra-class"><pre class="language-text"><code>var a = Object.prototype.toString; 
console.log(a.call(2));  [object Number]
console.log(a.call(true));  [object Boolean]
console.log(a.call('str'));  [object String]
console.log(a.call([])); [object Array]
console.log(a.call(function(){}));  [object Function]
console.log(a.call({}));  [object Object]
console.log(a.call(undefined)); [object Undefined]
console.log(a.call(null));  [object Null]
</code></pre></div><h2 id="null-和-undefined-的区别？"><a href="#null-和-undefined-的区别？" class="header-anchor">#</a> null 和 undefined 的区别？</h2> <p>首先 Undefined 和 Null 都是基本数据类型，这两个基本数据类型分别都只有一个值，就是 undefined 和 null。</p> <p>undefined 代表的含义是未定义， null 代表的含义是空对象（其实不是真的对象，请看下面的<strong>注意</strong>！）。一般变量声明了但还没有定义的时候会返回 undefined，null 主要用于赋值给一些可能会返回对象的变量，作为初始化。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>其实 null 不是对象，虽然 typeof null 会输出 object，但是这只是 JS 存在的一个悠久 Bug。在 JS 的最初版本中使用的是 32 位系统，为了性能考虑使用低位存储变量的类型信息，000 开头代表是对象，然而 null 表示为全零，所以将它错误的判断为 object 。虽然现在的内部类型判断代码已经改变了，但是对于这个 Bug 却是一直流传下来</p></div> <p>undefined 在 js 中不是一个保留字，这意味着我们可以使用 undefined 来作为一个变量名，这样的做法是非常危险的，它 会影响我们对 undefined 值的判断。但是我们可以通过一些方法获得安全的 undefined 值，比如说 void 0。</p> <p>当我们对两种类型使用 typeof 进行判断的时候，Null 类型化会返回 “object”，这是一个历史遗留的问题。当我们使用双等 号对两种类型的值进行比较时会返回 true，使用三个等号时会返回 false。</p> <p>详细资料可以参考：<a href="http://cavszhouyou.top/JavaScript%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E4%B9%8Bundefined%E4%B8%8Enull.html" target="_blank" rel="noopener noreferrer">《JavaScript 深入理解之 undefined 与 null》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="和-的valueof和tostring的结果？"><a href="#和-的valueof和tostring的结果？" class="header-anchor">#</a> {}和[]的valueOf和toString的结果？</h2> <div class="language- extra-class"><pre class="language-text"><code>{} 的 valueOf 结果为 {} ，toString 的结果为 &quot;[object Object]&quot;

[] 的 valueOf 结果为 [] ，toString 的结果为 &quot;&quot;
</code></pre></div><h2 id="js数组和字符串常用方法"><a href="#js数组和字符串常用方法" class="header-anchor">#</a> JS数组和字符串常用方法</h2> <img src="/js/shuzu.jpg" alt="mixureSecure"> <img src="/js/zifu.png" alt="mixureSecure"> <h2 id="dom-操作-怎样添加、移除、移动、复制、创建和查找节点？"><a href="#dom-操作-怎样添加、移除、移动、复制、创建和查找节点？" class="header-anchor">#</a> DOM 操作——怎样添加、移除、移动、复制、创建和查找节点？</h2> <p>（1）创建新节点</p> <div class="language- extra-class"><pre class="language-text"><code>  createDocumentFragment()    //创建一个DOM片段
  createElement()   //创建一个具体的元素
  createTextNode()   //创建一个文本节点
</code></pre></div><p>（2）添加、移除、替换、插入</p> <div class="language- extra-class"><pre class="language-text"><code>appendChild(node)
removeChild(node)
replaceChild(new,old)
insertBefore(new,old)
</code></pre></div><p>（3）查找</p> <div class="language- extra-class"><pre class="language-text"><code>getElementById();
getElementsByName();
getElementsByTagName();
getElementsByClassName();
querySelector();
querySelectorAll();
</code></pre></div><p>（4）属性操作</p> <div class="language- extra-class"><pre class="language-text"><code>getAttribute(key);
setAttribute(key, value);
hasAttribute(key);
removeAttribute(key);
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/html-css/cssCode.html" class="prev">
        css代码
      </a></span> <span class="next"><a href="/js/rumen.html">
        入门
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a611df23.js" defer></script><script src="/assets/js/2.1379642d.js" defer></script><script src="/assets/js/18.8414afbf.js" defer></script>
  </body>
</html>
